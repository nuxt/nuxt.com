---
title: 'Nuxt 3.3'
description: "The 3.3.0 is a minor (feature) release with lots of new features to play with."
navigation: false
image: /assets/blog/nuxt-a-vision-for-2023.png
authors:
  - name: Daniel Roe
    avatarUrl: https://github.com/danielroe.png
    link: https://twitter.com/danielcroe
date: 2023-03-14
category: Announcements
---

# Nuxt 3.3

## üëÄ Highlights

### ü™µ Better logging in browser DevTools

Working with the Chrome DevTools team, we've landed a couple of features across the unjs + Nuxt ecosystem meaning we now have first-class support for hiding Nuxt internal stack traces from logs in your (Chromium-based, for now) browser [#19243](https://github.com/nuxt/nuxt/pull/19243). We also landed a couple of improvements with stacktraces involving Nuxt hooks (https://github.com/unjs/hookable/pull/69 and https://github.com/unjs/hookable/pull/68) implementing [`console.createTask`](https://developer.chrome.com/blog/devtools-modern-web-debugging/#linked-stack-traces).

### üí™ Type improvements

Types for server API routes are now more correct - with non-serialisable types stripped out of the return type (https://github.com/unjs/nitro/pull/1002).

We also now type more of `NuxtApp` and correctly type unknown injections for greater type-safety (https://github.com/nuxt/nuxt/pull/19643).

And if you were struggling with correct types when using `transform` + `default` with Nuxt data fetching composables, fear no more - we now infer the types correctly (https://github.com/nuxt/nuxt/pull/19487).

### ‚ú® Local module development DX

We've landed a raft of changes to enable local modules and improve DX. We now auto-scan your `~/modules` folder and register top level files there as modules in your project (https://github.com/nuxt/nuxt/pull/19394). When these files are changed, we'll automatically restart the nuxt server.

We also now expose `nuxt/kit` for easy access to kit composables in your local project without having to install `@nuxt/kit` (https://github.com/nuxt/nuxt/pull/19422).

### ‚ôªÔ∏è Restarting Nuxt

You can add files to the `watch` array to automatically restart the server (https://github.com/nuxt/nuxt/pull/19530). This is likely to be particularly useful for module authors. You can also trigger a restart of the Nuxt server with the new `restart` hook (https://github.com/nuxt/nuxt/pull/19084).

### üî• Performance improvements

We've increased static asset maxAge to 1yr as a matter of best practice (https://github.com/nuxt/nuxt/pull/19335), and support tree-shaking more of your build (https://github.com/nuxt/nuxt/pull/19508).

We also now support preloading `<NuxtLink>`s with a route in object-syntax (https://github.com/nuxt/nuxt/pull/19120).

We also track how long it takes each module you use to perform its setup, and warn if it takes too long. You can see all these values by running your dev server with `DEBUG=1`

You can also opt-in to some of Nuxt's internal optimisations by configuring composables to be treeshaken in a particular environment (https://github.com/nuxt/nuxt/pull/19383), or to have magic keys automatically injected (https://github.com/nuxt/nuxt/pull/19490).

### üêõ Error handling

We now handle chunk errors by default (https://github.com/nuxt/nuxt/pull/19086), meaning if your site updates with a redeploy, we automatically handle reloading it on navigation. You can disable this and handle it yourself with the new `reloadNuxtApp` composable. You can also set `experimental.restoreState` to preserve some of your app state across reloads. 

We also have a new experimental error handling component: `<NuxtClientFallback>` (https://github.com/nuxt/framework/pull/8216) which can capture errors rendering on server, replace them with fallback content, and granularly trigger rerendering the part with an error on the client. This can be enabled with `experimental.clientFallback` - feedback very welcome!

### ‚ö°Ô∏è Head improvements

We've migrated to use `unhead` directly (https://github.com/nuxt/nuxt/pull/19519) - and automatically tree-shake server-only head composables like `useServerHead` from your client build (https://github.com/nuxt/nuxt/pull/19576), meaning you can have great SEO without needing to include meta tag logic that's relevant only for crawlers in your client build.

There's also a new `useHeadSafe` composable that handles santising untrusted user input (https://github.com/nuxt/nuxt/pull/19548).

### ‚öóÔ∏è Nitro enhancements

This release comes with Nitro v2.3, which brings lots of improvements of its own. Check out [the release](https://github.com/unjs/nitro/releases/tag/v2.3.0) for more info.

We now support `useAppConfig` in nitro server routes (https://github.com/nuxt/nuxt/pull/19489) - a long-awaited change. Now `useAppConfig` is consistently available throughout your app for non-runtime configuration from layers, modules, etc.

We've also added a `nitro:build:public-assets` hook to allow modifying assets output from nitro's prerender/build phase (https://github.com/nuxt/nuxt/pull/196380. 

### üõ†Ô∏è Build changes

As part of moving towards [first-class support for PNP and pnpm support without `--shamefully-hoist`](https://github.com/nuxt/nuxt/issues/14146), we've dropped support for some internal (deprecated) utilities using CJS resolve patterns (https://github.com/nuxt/nuxt/pull/19537, https://github.com/nuxt/nuxt/pull/19608). We also now resolve dependencies like `nuxt`, `@nuxt/kit` and more using ESM search-paths. We'll be keeping a close eye on this.

We're also preparing the groundwork for support of new TypeScript Node16 module resolution (https://github.com/nuxt/nuxt/issues/19606), and as part of this have changed the format of our runtime output (using `.js` instead of `.mjs` extensions, providing `types` fields for subpath exports, and more).

### üó∫Ô∏è Custom config schema (advanced)

We've been testing out an experimental feature to allow modules and users to extend the Nuxt config schema (https://github.com/nuxt/nuxt/issues/15592), and we've now enabled this by default (https://github.com/nuxt/nuxt/pull/19172). We expect this will be particularly useful for module and layer/theme authors, and should result in some nicer DX for their users.

## Changelog

[compare changes](https://github.com/nuxt/nuxt/compare/v3.2.3...v3.3.0)


### üöÄ Enhancements

  - **cli:** Enforce consistent casing in filenames ([#19088](https://github.com/nuxt/nuxt/pull/19088))
  - **cli:** Reload nuxt when `restart` hook is called ([#19084](https://github.com/nuxt/nuxt/pull/19084))
  - **nuxt:** Scan composables with star export ([#19249](https://github.com/nuxt/nuxt/pull/19249))
  - **nuxt:** Add `versions` to runtime nuxtApp ([#19064](https://github.com/nuxt/nuxt/pull/19064))
  - **vite:** Add `node_modules` and buildDir to `x_google_ignoreList` ([#19243](https://github.com/nuxt/nuxt/pull/19243))
  - **cli:** Cli wrapper for self restart ([#18641](https://github.com/nuxt/nuxt/pull/18641))
  - **schema:** Allow adding page routes without a matching file ([#19173](https://github.com/nuxt/nuxt/pull/19173))
  - **nuxt:** Add support for `nuxt/kit` subpath for local use ([#19422](https://github.com/nuxt/nuxt/pull/19422))
  - **nuxt:** Auto-register modules in `~/modules` ([#19394](https://github.com/nuxt/nuxt/pull/19394))
  - **nuxt:** Enable config schema by default ([#19172](https://github.com/nuxt/nuxt/pull/19172))
  - **kit,nuxt:** Add component `priority` to allow overriding ([#19252](https://github.com/nuxt/nuxt/pull/19252))
  - **nuxt:** Enable preloading object-syntax routes ([#19120](https://github.com/nuxt/nuxt/pull/19120))
  - **nuxt:** Support `trailingSlashBehavior` in `defineNuxtLink` ([#19458](https://github.com/nuxt/nuxt/pull/19458))
  - **nuxt:** Allow configuring treeshakeable composables ([#19383](https://github.com/nuxt/nuxt/pull/19383))
  - **nuxi,schema:** Add support for setting nuxt `logLevel` ([#19369](https://github.com/nuxt/nuxt/pull/19369))
  - **nuxt:** Support custom keyed composables ([#19490](https://github.com/nuxt/nuxt/pull/19490))
  - **cli:** Programmatically pass nuxt config overrides (to dev) ([#19371](https://github.com/nuxt/nuxt/pull/19371))
  - **vite:** Use custom logger to show vite logs ([#19523](https://github.com/nuxt/nuxt/pull/19523))
  - **nuxt:** Enable chunk error handling by default ([#19086](https://github.com/nuxt/nuxt/pull/19086))
  - **nuxt:** Add `<NuxtClientFallback>` component ([#8216](https://github.com/nuxt/nuxt/pull/8216))
  - **nuxt:** Add `watch` option and refactor dev server restarting ([#19530](https://github.com/nuxt/nuxt/pull/19530))
  - **nuxt:** Add `useHeadSafe` and remove layer around head imports ([#19548](https://github.com/nuxt/nuxt/pull/19548))
  - **kit, schema:** Measure module setup timings ([#18648](https://github.com/nuxt/nuxt/pull/18648))
  - **nuxt:** Support app config for server routes ([#19489](https://github.com/nuxt/nuxt/pull/19489))
  - **nuxt:** Add `nitro:build:public-assets` hook ([#19638](https://github.com/nuxt/nuxt/pull/19638))

### üî• Performance

  - **nuxt:** Increase static asset maxAge to 1yr ([#19335](https://github.com/nuxt/nuxt/pull/19335))
  - **vite:** Mark more core functions as side-effect free ([#19508](https://github.com/nuxt/nuxt/pull/19508))
  - **head:** Drop `@vueuse/head` dependency ([#19519](https://github.com/nuxt/nuxt/pull/19519))
  - **nuxt:** Tree-shake server composables + prefer server head ([#19576](https://github.com/nuxt/nuxt/pull/19576))

### ü©π Fixes

  - **nuxt:** Clear loading indicator on unmount ([#19340](https://github.com/nuxt/nuxt/pull/19340))
  - **nuxt:** Deprecate scanning directory index plugins ([#18418](https://github.com/nuxt/nuxt/pull/18418))
  - **nuxt:** Prevent fallthrough attributes on custom `NuxtLink` ([#19379](https://github.com/nuxt/nuxt/pull/19379))
  - **schema:** Update vite `import.meta` types ([#19338](https://github.com/nuxt/nuxt/pull/19338))
  - **vite:** Omit `/` from `sourcemapIgnoreList` for windows support ([73ade185b](https://github.com/nuxt/nuxt/commit/73ade185b))
  - **nuxt:** Pass transform options to component loader plugin ([#19414](https://github.com/nuxt/nuxt/pull/19414))
  - **cli:** Avoid top-level await in wrapper ([44068420d](https://github.com/nuxt/nuxt/commit/44068420d))
  - **nuxt:** Add `kit.*` files to published package ([#19430](https://github.com/nuxt/nuxt/pull/19430))
  - **nuxt:** Don't print layout warning if page is not ssr ([#19434](https://github.com/nuxt/nuxt/pull/19434))
  - **kit:** Match commit hashes of other lengths ([#19450](https://github.com/nuxt/nuxt/pull/19450))
  - **cli:** Handle different kind of shutdown signals ([#19485](https://github.com/nuxt/nuxt/pull/19485))
  - **nuxt:** Exclude nitro output dir from type checking ([#19532](https://github.com/nuxt/nuxt/pull/19532))
  - **vite:** Allow disabling clear screen behaviour ([#19531](https://github.com/nuxt/nuxt/pull/19531))
  - **nuxt:** Only log boot errors on client-side ([#19553](https://github.com/nuxt/nuxt/pull/19553))
  - **nuxt:** Dedupe payload cache by payload url ([#19563](https://github.com/nuxt/nuxt/pull/19563))
  - **nuxt:** Provide node16-style type exports ([#18431](https://github.com/nuxt/nuxt/pull/18431))
  - **nuxt:** Avoid injecting adhoc modules in schema ([#19607](https://github.com/nuxt/nuxt/pull/19607))
  - **nuxt:** Improve types for data fetching with `transform` ([#19487](https://github.com/nuxt/nuxt/pull/19487))
  - **cli:** Resolve kit from nuxt modules dir ([#19601](https://github.com/nuxt/nuxt/pull/19601))
  - **nuxt,schema:** Merge custom and resolved app configs ([#19602](https://github.com/nuxt/nuxt/pull/19602))
  - **nuxt:** Resolve builder using esm syntax ([#19608](https://github.com/nuxt/nuxt/pull/19608))
  - **nuxt:** Exclude `boolean` from inline module definitions ([#19621](https://github.com/nuxt/nuxt/pull/19621))
  - **schema:** Show `payloadExtraction` warning only when unset ([#18516](https://github.com/nuxt/nuxt/pull/18516))
  - **nuxt:** Mark non-augmented NuxtApp properties as unknown ([#19643](https://github.com/nuxt/nuxt/pull/19643))

### üíÖ Refactors

  - **cli:** Hard restart with communication channel ([#19423](https://github.com/nuxt/nuxt/pull/19423))
  - **kit,nuxi:** Resolve module paths using node algorithm ([#19537](https://github.com/nuxt/nuxt/pull/19537))
  - **nuxt:** Let mlly handle search paths ([#19635](https://github.com/nuxt/nuxt/pull/19635))

### üìñ Documentation

  - Use consistent indentation in examples ([#19342](https://github.com/nuxt/nuxt/pull/19342))
  - Update esm link ([c35104c76](https://github.com/nuxt/nuxt/commit/c35104c76))
  - Add frontmatter note for docs readme to remove from live preview ([008426cd3](https://github.com/nuxt/nuxt/commit/008426cd3))
  - Add edge banners on `versions` and modules ([#19448](https://github.com/nuxt/nuxt/pull/19448))
  - Add local modules ordering ([5977adb4d](https://github.com/nuxt/nuxt/commit/5977adb4d))
  - Fix link to nitro `routeRules` ([#19455](https://github.com/nuxt/nuxt/pull/19455))
  - Fix dead link to useSeoMeta guide ([#19463](https://github.com/nuxt/nuxt/pull/19463))
  - Update `devServer.https` example ([#19486](https://github.com/nuxt/nuxt/pull/19486))
  - Add info `~/server/utils` directory in `~/utils` page ([#19500](https://github.com/nuxt/nuxt/pull/19500))
  - Update `addComponent` jsdoc comment ([#19503](https://github.com/nuxt/nuxt/pull/19503))
  - Update cli docs for `--log-level` ([06b9233b1](https://github.com/nuxt/nuxt/commit/06b9233b1))
  - Update pr template to include jsdoc annotations ([#19511](https://github.com/nuxt/nuxt/pull/19511))
  - Add new release cycle info ([#19509](https://github.com/nuxt/nuxt/pull/19509))
  - Fix local modules ([c4222b1f6](https://github.com/nuxt/nuxt/commit/c4222b1f6))
  - Update nitro plugins url ([#19547](https://github.com/nuxt/nuxt/pull/19547))
  - Ui components - pinceau migration ([#19533](https://github.com/nuxt/nuxt/pull/19533))
  - Update $fetch documentation ([#19356](https://github.com/nuxt/nuxt/pull/19356))
  - Move prerequisites into a summary ([e0cb950f0](https://github.com/nuxt/nuxt/commit/e0cb950f0))
  - Remove note since already in code block for pnpm ([d67a873c4](https://github.com/nuxt/nuxt/commit/d67a873c4))
  - Add nuxt 2 to nuxt 3 workshop ([2905282de](https://github.com/nuxt/nuxt/commit/2905282de))
  - Update various nitro links ([#19562](https://github.com/nuxt/nuxt/pull/19562))
  - Use consistent page name in example ([#19583](https://github.com/nuxt/nuxt/pull/19583))
  - Add missing backquotes ([#19590](https://github.com/nuxt/nuxt/pull/19590))
  - Remove reference to beta/rc/coming soon ([4ad5c959e](https://github.com/nuxt/nuxt/commit/4ad5c959e))
  - Warn about modules with side-effects ([#19592](https://github.com/nuxt/nuxt/pull/19592))
  - Mention config file name before code block ([#19634](https://github.com/nuxt/nuxt/pull/19634))

### üè° Chore

  - Bump edge version based on commits ([#19397](https://github.com/nuxt/nuxt/pull/19397))
  - Add branch to edge release script ([171288586](https://github.com/nuxt/nuxt/commit/171288586))
  - Add chore to type of change in pr template ([#19420](https://github.com/nuxt/nuxt/pull/19420))
  - Mark `@nuxt/test-utils` package as external group ([#19419](https://github.com/nuxt/nuxt/pull/19419))
  - Restrict commit hash strings to 8 chars ([abcd27ae0](https://github.com/nuxt/nuxt/commit/abcd27ae0))
  - **deps:** ‚ö†Ô∏è  Update dependency fork-ts-checker-webpack-plugin to v8 (main) ([#19468](https://github.com/nuxt/nuxt/pull/19468))
  - Force minor bumps at most ([0b82f6751](https://github.com/nuxt/nuxt/commit/0b82f6751))
  - **nuxt:** Update to new `hasProtocol` options format ([#19555](https://github.com/nuxt/nuxt/pull/19555))
  - Improve internal type safety ([#19599](https://github.com/nuxt/nuxt/pull/19599))
  - Refresh lockfile ([#19653](https://github.com/nuxt/nuxt/pull/19653))
  - Constrain nitro to minor version ([88a5f38de](https://github.com/nuxt/nuxt/commit/88a5f38de))
  - Bump package versions ([615750614](https://github.com/nuxt/nuxt/commit/615750614))

### ‚úÖ Tests

  - Close pages after use ([#19558](https://github.com/nuxt/nuxt/pull/19558))

### ü§ñ CI

  - Limit nuxt2 nightly build to nuxt org ([#19352](https://github.com/nuxt/nuxt/pull/19352))
  - Fetch git history ([e11d55a49](https://github.com/nuxt/nuxt/commit/e11d55a49))
  - Lint workflows ([#19556](https://github.com/nuxt/nuxt/pull/19556))
  - Move typecheck to build step ([99cda4f38](https://github.com/nuxt/nuxt/commit/99cda4f38))
  - Stub before typecheck ([f92fedc8e](https://github.com/nuxt/nuxt/commit/f92fedc8e))
  - Rename step ([34875bc0e](https://github.com/nuxt/nuxt/commit/34875bc0e))

#### ‚ö†Ô∏è  Breaking Changes

  - **deps:** ‚ö†Ô∏è  Update dependency fork-ts-checker-webpack-plugin to v8 (main) ([#19468](https://github.com/nuxt/nuxt/pull/19468))

### ‚ù§Ô∏è  Contributors

- Daniel Roe <daniel@roe.dev>
- Pooya Parsa <pyapar@gmail.com>
- Joff Tiquez ([@jofftiquez](http://github.com/jofftiquez))
- Hyunseung Lee ([@hslee2008](http://github.com/hslee2008))
- Xin Du (Clark) <clark.duxin@gmail.com>
- Julien Huang <julien.huang@outlook.fr>
- Harlan Wilton ([@harlan-zw](http://github.com/harlan-zw))
- Lei ([@oizhaolei](http://github.com/oizhaolei))
- Ê±üÈ∫ªÂ¶û <jiangmaniu@qq.com>
- S√©bastien Chopin ([@Atinux](http://github.com/Atinux))
- √ñz√ºm Eldoƒüan ([@ozum](http://github.com/ozum))
- Florent Delerue <florentdelerue@hotmail.com>
- S96EA <neild47@163.com>
- Mehmet ([@productdevbook](https://github.com/productdevbook))
- Anthony Fu <anthonyfu117@hotmail.com>
- Sebastian Landwehr ([@dword-design](http://github.com/dword-design))
- Cl√©ment Ollivier ([@clemcode](http://github.com/clemcode))
- Jakub Andrzejewski ([@Baroshem](https://github.com/Baroshem))
- Paulius Varna <paul.varna@gmail.com>
- Alex Korytskyi ([@alex-key](http://github.com/alex-key))
- Samuel DIDIER-LAURENT 
- Alex Liu ([@Mini-ghost](http://github.com/Mini-ghost))
- Alexander Lichter ([@manniL](http://github.com/manniL))
- Horu 
- Ivan <rebyatyonok@yandex.com>
- Stefan <stefan.heim@hotmail.com>
- Lucie 
- Inesh Bose 
- Mahdi Shah Abbasian ([@shahabbasian](http://github.com/shahabbasian))
